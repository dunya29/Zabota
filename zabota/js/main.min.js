const header=document.querySelector(".header"),fixedBlocks=document.querySelectorAll(".fixed-block"),iconMenu=document.querySelector(".icon-menu"),allPopups=document.querySelectorAll(".modal"),successPopup=document.querySelector(".success-modal"),errorPopup=document.querySelector(".error-modal"),newsFilter=document.querySelector(".news__form");let animSpd=400;function enableScroll(){document.querySelectorAll(".fixed-block")&&document.querySelectorAll(".fixed-block").forEach((e=>e.style.paddingRight="0px")),document.body.style.paddingRight="0px",document.body.classList.remove("no-scroll")}function disableScroll(){let e=window.innerWidth>325?window.innerWidth-document.documentElement.clientWidth+"px":0;fixedBlocks&&fixedBlocks.forEach((t=>t.style.paddingRight=e)),document.body.style.paddingRight=e,document.body.classList.add("no-scroll")}function tabSwitch(e,t){e.forEach(((n,c)=>{n.addEventListener("click",(()=>{n.getAttribute("data-nav");e.forEach((e=>{e.classList.remove("active")})),t.forEach((e=>{e.classList.remove("active")})),n.classList.add("active"),t[c].classList.add("active"),n.style.opacity="0",t[c].style.opacity="0",setTimeout((()=>{n.style.opacity="1",t[c].style.opacity="1"}),0)}))}))}let popups={openPopup:function(e){iconMenu.classList.contains("active")||disableScroll(),e.classList.add("open"),allPopups.forEach((e=>{e.addEventListener("click",(t=>{e.querySelector(".modal__content").contains(t.target)&&!e.querySelector(".modal__close").contains(t.target)||this.closePopup(e)}))}))},closePopup:function(e){e.classList.remove("open"),setTimeout((()=>{iconMenu.classList.contains("active")||enableScroll()}),animSpd)}};function formSuccess(e){e.querySelectorAll(".item-form").forEach((e=>e.classList.remove("error"))),e.querySelectorAll("input").forEach((e=>{["hidden","checkbox","radio"].includes(e.type)||(e.value="")})),e.querySelector("textarea")&&(e.querySelector("textarea").value=""),popups.openPopup(successPopup)}iconMenu.addEventListener("click",(()=>{iconMenu.classList.contains("active")?enableScroll():disableScroll(),window.scrollTo(0,0),iconMenu.classList.toggle("active")}));const itemMenu=document.querySelectorAll(".menu__item");let setSelect;if(itemMenu.forEach((e=>{e.querySelector(".menu__link").addEventListener("click",(t=>{window.innerWidth<=991&&e.querySelector(".menu__link svg")&&(t.preventDefault(),e.classList.contains("active")?e.classList.remove("active"):(itemMenu.forEach((e=>e.classList.remove("active"))),e.classList.add("active")))}))})),newsFilter){let e=newsFilter.querySelector(".select-custom");setSelect={allInp:e.querySelector(".item-checkbox.all input"),inputs:Array.from(e.querySelectorAll(".item-checkbox input")).slice(1),checkedInpMass:[],openSelect:function(e){e.classList.add("open"),e.setAttribute("aria-expanded",!0),document.addEventListener("click",(function t(n){e.contains(n.target)||(setSelect.closeSelect(e),document.removeEventListener("click",t))}))},closeSelect:function(e){e.classList.remove("open"),e.setAttribute("aria-expanded",!1)},setSelectTxt:function(){this.allInp.checked?(this.checkedInpMass=[],this.inputs.forEach((e=>{e.checked=!0,this.checkedInpMass.unshift(e.nextElementSibling.textContent)})),e.querySelector(".select-custom__selected span").textContent="Все"):!this.allInp.checked&&this.checkedInpMass.length>0?e.querySelector(".select-custom__selected span").textContent=this.checkedInpMass.join(", "):e.querySelector(".select-custom__selected span").textContent="Выберите"}},e.querySelector(".select-custom__selected").addEventListener("click",(()=>{e.classList.contains("open")?setSelect.closeSelect(e):setSelect.openSelect(e)})),setSelect.inputs.forEach((t=>{t.checked&&(setSelect.checkedInpMass.unshift(t.nextElementSibling.textContent),setSelect.setSelectTxt()),t.addEventListener("change",(()=>{t.checked?setSelect.checkedInpMass.unshift(t.nextElementSibling.textContent):setSelect.checkedInpMass=setSelect.checkedInpMass.filter((e=>e!==t.nextElementSibling.textContent)),setSelect.inputs.every((e=>e.checked))?setSelect.allInp.checked=!0:setSelect.allInp.checked=!1,e.querySelectorAll("button").forEach((e=>e.disabled=!1)),setSelect.setSelectTxt()}))})),setSelect.allInp.addEventListener("change",(()=>{e.querySelectorAll("button").forEach((e=>e.disabled=!1)),setSelect.inputs.every((e=>e.checked))&&(setSelect.inputs.forEach((e=>e.checked=!1)),setSelect.checkedInpMass=[]),setSelect.setSelectTxt()})),newsFilter.addEventListener("reset",(()=>{e.querySelectorAll(".item-checkbox input").forEach((e=>{e.removeAttribute("checked"),setSelect.checkedInpMass=[],setSelect.setSelectTxt()}))}))}function newsFormSubmit(e){let t=e.querySelector(".select-custom");t.querySelector(".item-checkbox.all input").checked?t.querySelectorAll("button").forEach((e=>e.disabled=!0)):t.querySelectorAll("button").forEach((e=>e.disabled=!1)),setSelect.closeSelect(t)}const switchBlock=document.querySelectorAll(".switch-block");switchBlock&&switchBlock.forEach((e=>{tabSwitch(e.querySelectorAll("[data-nav]"),e.querySelectorAll("[data-block]"))}));const fancyItems=document.querySelectorAll("[data-fancy]");function maskInput(){const e=document.querySelectorAll("input[type=tel]");e&&e.forEach((e=>{Inputmask({mask:"+7 999 999-99-99"}).mask(e)}))}fancyItems.forEach((e=>{e.addEventListener("click",(()=>{let t=[],n=e.getAttribute("data-fit")?e.getAttribute("data-fit"):"",c=e.getAttribute("data-fancy");fancyItems.forEach((e=>{e.closest(".swiper-slide-duplicate")||e.getAttribute("data-fancy")!==c||t.push(e.getAttribute("data-src"))}));let o=t.indexOf(e.getAttribute("data-src"));document.querySelector("footer").insertAdjacentHTML("afterend",`\n    <div class="modal fancy-modal">\n        <div class="modal__overlay">\n          <div class="modal__top">\n            <div class="container">\n              <button class="modal__close" aria-label="Закрыть всплывающее окно">    \n                <svg id="icon-close" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" fill="none">\n                  <path d="M1.875 28.125L28.3915 1.6085" stroke-width="2" stroke-linecap="round"/>\n                  <path d="M1.875 1.875L28.3915 28.3915" stroke-width="2" stroke-linecap="round"/>\n                </svg>\n              </button>\n            </div>\n          </div>\n          <div class="modal__content">\n               <div class="modal__btns">\n                  <div class="container">\n                    <button class="btn swiper-btn swiper-btn--prev">\n                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 26" fill="none">\n                        <path d="M14 1L2 13L14 25" stroke-width="2" stroke-linecap="round"/>\n                      </svg>\n                    </button>\n                    <button class="btn swiper-btn swiper-btn--next">\n                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 26" fill="none">\n                        <path d="M0.999999 25L13 13L0.999999 1" stroke-width="2" stroke-linecap="round"/>\n                      </svg>\n                    </button>\n                  </div>\n               </div>\n               <div class="swiper fancy-swiper">\n                   <div class="swiper-wrapper">\n                      ${t.map((e=>`<div class="swiper-slide ${n}">\n                            <div class="swiper-img">\n                                <img src=${e} alt="">\n                            </div>\n                        </div>`)).join("")}\n                   </div>\n               </div>\n           </div>\n        </div>\n    </div>\n  `);new Swiper(".fancy-swiper",{slidesPerView:1,slidesPerGroup:1,observer:!0,observeParents:!0,centeredSlides:!0,spaceBetween:10,initialSlide:o,navigation:{prevEl:".fancy-modal .swiper-btn--prev",nextEl:".fancy-modal .swiper-btn--next"},breakpoints:{1300.98:{spaceBetween:60},991.98:{spaceBetween:40},767.98:{spaceBetween:20}},speed:800});const s=document.querySelector(".fancy-modal");popups.openPopup(s),s.addEventListener("click",(e=>{s.querySelector(".modal__content").contains(e.target)&&!s.querySelector(".modal__close").contains(e.target)||(popups.closePopup(s),setTimeout((()=>{s.remove()}),animSpd))}))}))})),maskInput();const introItems=document.querySelector(".intro__items"),itemIntro=document.querySelectorAll(".item-intro");if(introItems&&(itemIntro.forEach((e=>{e.querySelector(".btn").addEventListener("mouseenter",(()=>{document.querySelector(".intro__img img").style.opacity="0",itemIntro.forEach((e=>{e.classList.remove("active")})),e.classList.add("active")})),e.querySelector(".btn").addEventListener("mouseleave",(()=>{document.querySelector(".intro__img img").style.opacity="1",itemIntro.forEach((e=>{e.classList.remove("active")}))}))})),introItems.scrollWidth>introItems.clientWidth+30)){let t=introItems.scrollWidth-introItems.clientWidth;introItems.scrollLeft=t/2}const introInfoSwiper=document.querySelector(".intro__accordion"),introInfo=document.querySelectorAll(".intro-info");if(introInfoSwiper){let n,c;function initIntroSwiper(){window.innerWidth>991.98&&!n?(n=!0,c=new Swiper(introInfoSwiper,{slidesPerView:"auto",observer:!0,observeParents:!0,spaceBetween:12,speed:800})):n&&(n=!1,c.destroy())}initIntroSwiper(),window.addEventListener("resize",initIntroSwiper),$(".intro-info__header").on("click",(function(){window.innerWidth<991.98&&$(this).siblings(".intro-info__content").slideToggle().parents(".intro-info").toggleClass("active").siblings(".intro-info").removeClass("active").find(".intro-info__content").slideUp()}))}const tabScroll=document.querySelectorAll(".tabs-scroll");tabScroll&&tabScroll.forEach((e=>{let t=Math.abs(parseInt(getComputedStyle(e).marginLeft)),n=e.querySelector(".active").getBoundingClientRect().left-e.getBoundingClientRect().left-t||0;e.scrollLeft=n})),$(".js-anchor").click((function(){var e=$(this).attr("href"),t=$(e).offset().top;return $("html,body").animate({scrollTop:t},2e3),!1}));